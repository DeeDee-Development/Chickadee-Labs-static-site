---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout>
  <!-- Hero Section - Gradient background like MyFitnessPal -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <div class="hero-text">
          <h1>Prevent Falls Before They Happen</h1>
          <p class="hero-subtitle">
            Smart health monitoring that detects fall risks early‚Äîgiving families peace of mind and seniors the independence they deserve.
          </p>
          <div class="hero-cta">
            <a href="#about" class="btn btn-primary btn-lg">How It Works</a>
            <a href="https://tally.so/r/q445pY" target="_blank" rel="noopener noreferrer" class="btn btn-secondary btn-lg">Join Waitlist</a>
          </div>
        </div>
        <div class="hero-image">
          <div class="app-icon-container">
            <img src={import.meta.env.BASE_URL + "app-icon.png"} alt="Chickadee Health App Icon" class="app-icon" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="section">
    <div class="container">
      <div class="section-header">
        <h2>Falls Don't Have to Be Inevitable</h2>
        <p>Chickadee Health monitors the warning signs that precede falls‚Äîpoor sleep, reduced mobility, declining activity‚Äîand alerts families before a fall happens, not after.</p>
      </div>
    </div>
  </section>

  <!-- Challenge Section -->
  <section class="section section-alt">
    <div class="container">
      <div class="challenge-content">
        <h2>The Problem</h2>
        <p class="challenge-text">
          <strong>Over 90% of people above age 70 have experienced a severe fall</strong>‚Äîand live in constant fear of the next one.
          Traditional solutions force a choice: independence or safety.
        </p>
        <p class="challenge-text">
          Meanwhile, adult children juggle their own families while worrying about aging parents living alone.
          By the time a fall happens, it's often too late to prevent serious injury.
        </p>
      </div>
    </div>
  </section>

  <!-- Solution Section - Data-Inspired Narrative -->
  <section id="solution" class="section">
    <div class="container">
      <div class="section-header">
        <h2>How We Prevent Falls</h2>
        <p>Your mobility this week shows patterns worth monitoring. We connect the dots so you don't have to.</p>
      </div>

      <!-- Data Metrics Grid -->
      <div class="metrics-grid">
        <!-- Walking Speed - Warning Status -->
        <div class="metric-card" data-status="warning">
          <div class="metric-header">
            <span class="metric-icon">üö∂</span>
            <span class="metric-name">Walking Speed</span>
            <span class="metric-status-dot status-warning"></span>
          </div>
          <div class="metric-value">
            <span class="metric-number status-warning">1.4</span>
            <span class="metric-unit">ft/s</span>
          </div>
          <p class="metric-context">Slower than usual</p>
          <!-- Mini sparkline visualization -->
          <svg class="metric-sparkline" width="100%" height="32" viewBox="0 0 100 32" preserveAspectRatio="none">
            <polyline
              fill="none"
              stroke="var(--color-primary)"
              stroke-width="2"
              points="0,16 20,14 40,18 60,12 80,20 100,24"
            />
          </svg>
        </div>

        <!-- Steps Per Day - Good Status -->
        <div class="metric-card" data-status="good">
          <div class="metric-header">
            <span class="metric-icon">üë£</span>
            <span class="metric-name">Steps Per Day</span>
            <span class="metric-status-dot status-good"></span>
          </div>
          <div class="metric-value">
            <span class="metric-number status-good">6,247</span>
            <span class="metric-unit">steps</span>
          </div>
          <p class="metric-context">Consistent with normal</p>
          <!-- Progress bar visualization -->
          <div class="metric-progress">
            <div class="progress-bar">
              <div class="progress-fill status-good" style="width: 78%"></div>
            </div>
            <span class="progress-label">78% of goal</span>
          </div>
        </div>

        <!-- Balance Time - Good Status -->
        <div class="metric-card" data-status="good">
          <div class="metric-header">
            <span class="metric-icon">‚öñÔ∏è</span>
            <span class="metric-name">Balance Time</span>
            <span class="metric-status-dot status-good"></span>
          </div>
          <div class="metric-value">
            <span class="metric-number status-good">12</span>
            <span class="metric-unit">min</span>
          </div>
          <p class="metric-context">Standing activities</p>
          <!-- Mini bar chart visualization -->
          <div class="metric-mini-bars">
            <div class="mini-bar" style="height: 60%"></div>
            <div class="mini-bar" style="height: 75%"></div>
            <div class="mini-bar" style="height: 85%"></div>
            <div class="mini-bar" style="height: 70%"></div>
            <div class="mini-bar" style="height: 90%"></div>
            <div class="mini-bar" style="height: 80%"></div>
            <div class="mini-bar" style="height: 95%"></div>
          </div>
        </div>

        <!-- Active Minutes - Good Status -->
        <div class="metric-card" data-status="good">
          <div class="metric-header">
            <span class="metric-icon">‚ö°</span>
            <span class="metric-name">Active Minutes</span>
            <span class="metric-status-dot status-good"></span>
          </div>
          <div class="metric-value">
            <span class="metric-number status-good">89</span>
            <span class="metric-unit">min</span>
          </div>
          <p class="metric-context">Total movement today</p>
          <!-- Sparkline trending up -->
          <svg class="metric-sparkline" width="100%" height="32" viewBox="0 0 100 32" preserveAspectRatio="none">
            <polyline
              fill="none"
              stroke="var(--color-success)"
              stroke-width="2"
              points="0,24 20,22 40,20 60,16 80,14 100,8"
            />
          </svg>
        </div>
      </div>

      <!-- Narrative Insights - Connected Story -->
      <div class="highlights-section">
        <div class="highlights-header">
          <h3>What This Pattern Means</h3>
        </div>

        <div class="insight-card insight-primary">
          <div class="insight-icon">üîç</div>
          <div class="insight-content">
            <h4>Key Finding</h4>
            <p>Your <strong>walking speed has slowed</strong> while your activity and steps stayed consistent. This combination often indicates <strong>fatigue or balance issues</strong>‚Äîa key fall risk factor worth monitoring.</p>
          </div>
        </div>

        <div class="insight-card insight-positive">
          <div class="insight-icon">‚úÖ</div>
          <div class="insight-content">
            <h4>The Good News</h4>
            <p>Your balance time and overall activity remain strong. You're staying active, which helps maintain strength and stability.</p>
          </div>
        </div>

        <div class="insight-card insight-action">
          <div class="insight-icon">üí°</div>
          <div class="insight-content">
            <h4>What We're Watching</h4>
            <p>We'll continue tracking your pace. If it continues slowing or you notice difficulty with stairs or uneven surfaces, we'll alert your family right away.</p>
          </div>
        </div>
      </div>

      <!-- What We Track Details -->
      <div class="tracking-details">
        <h3>What We Track</h3>
        <ul class="tracking-list">
          <li><strong>Walking speed</strong> ‚Äî Slowing pace can indicate balance issues</li>
          <li><strong>Daily steps</strong> ‚Äî Sudden decreases may signal concern</li>
          <li><strong>Standing time</strong> ‚Äî Helps maintain strength and stability</li>
          <li><strong>Movement patterns</strong> ‚Äî Irregularities can predict fall risk</li>
        </ul>
        <p class="tracking-tagline">When something seems off, you'll know right away.</p>
      </div>
    </div>
  </section>

  <!-- SMS Alerts Setup Section -->
  <section class="section section-alt">
    <div class="container">
      <div class="sms-setup-content">
        <div class="icon-badge-large">üì±</div>
        <h2>Get Health Alerts via Text</h2>
        <p class="sms-description">
          Stay connected to your loved one's health status with SMS notifications.
          When we detect fall risk patterns, we'll send you a timely text alert so you can reach out and help.
        </p>
        <a href="/sms-opt-in/" class="btn btn-primary btn-lg">Set Up SMS Alerts</a>
      </div>
    </div>
  </section>

  <!-- Mission Section -->
  <section class="section mission-section">
    <div class="container">
      <div class="mission-content">
        <h2>Independence Without Fear</h2>
        <p>
          Seniors shouldn't have to choose between living independently and staying safe.
          Chickadee provides the safety net that lets families sleep soundly‚Äîknowing they'll be alerted
          to fall risks before tragedy strikes.
        </p>
      </div>
    </div>
  </section>

  <!-- Status Section -->
  <section class="section section-alt">
    <div class="container">
      <div class="status-content">
        <h2>Development Status</h2>
        <p>
          Chickadee Health is currently in active development. We're building thoughtfully to ensure
          our solution truly serves the needs of older adults and their families.
        </p>
      </div>
    </div>
  </section>

  <!-- Contact CTA -->
  <section id="contact" class="section cta-section">
    <div class="container">
      <div class="cta-content">
        <h2>Join the Waitlist</h2>
        <p>Be the first to know when Chickadee Health launches. Sign up for early access.</p>
        <a href="https://tally.so/r/q445pY" target="_blank" rel="noopener noreferrer" class="btn btn-primary btn-lg">Join Waitlist</a>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* Hero Section */
  .hero {
    background: var(--gradient-hero);
    color: white;
    padding: var(--space-3xl) 0;
    min-height: 600px;
    display: flex;
    align-items: center;
  }

  .hero-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-3xl);
    align-items: center;
  }

  .hero h1 {
    font-size: var(--font-size-5xl);
    color: white;
    margin-bottom: var(--space-lg);
    line-height: 1.1;
  }

  .hero-subtitle {
    font-size: var(--font-size-xl);
    color: var(--color-text-on-dark);
    margin-bottom: var(--space-xl);
    line-height: var(--line-height-relaxed);
  }

  .hero-cta {
    display: flex;
    gap: var(--space-md);
    flex-wrap: wrap;
  }

  .app-icon-container {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .app-icon {
    width: 300px;
    height: 300px;
    border-radius: 22%;
    box-shadow: 0 20px 60px var(--shadow-color-dark);
    transition: transform var(--transition-base);
  }

  .app-icon:hover {
    transform: scale(1.05);
  }

  /* Section Headers */
  .section-header {
    text-align: center;
    max-width: 700px;
    margin: 0 auto var(--space-3xl);
  }

  .section-header p {
    font-size: var(--font-size-lg);
    color: var(--color-text-light);
  }

  /* Data Metrics Grid - Apple Health Inspired */
  .metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-3xl);
  }

  .metric-card {
    background: white;
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    box-shadow: var(--shadow-md);
    transition: transform var(--transition-base), box-shadow var(--transition-base), border var(--transition-base);
    border-left: 4px solid transparent;
    position: relative;
  }


  /* Status-based border colors */
  .metric-card[data-status="good"] {
    border-left-color: var(--color-success);
  }

  .metric-card[data-status="warning"] {
    border-left-color: var(--color-primary);
  }

  .metric-card[data-status="alert"] {
    border-left-color: #FF3B30;
  }

  .metric-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }

  .metric-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
  }

  .metric-icon {
    font-size: var(--font-size-2xl);
  }

  .metric-name {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text);
    flex: 1;
  }

  /* Status Dots */
  .metric-status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
    flex-shrink: 0;
  }

  .status-dot, .metric-status-dot.status-good {
    background-color: var(--color-success);
  }

  .metric-status-dot.status-warning {
    background-color: var(--color-primary);
  }

  .metric-status-dot.status-alert {
    background-color: #FF3B30;
  }

  .metric-value {
    display: flex;
    align-items: baseline;
    gap: var(--space-xs);
    margin-bottom: var(--space-xs);
  }

  .metric-number {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
    line-height: 1;
  }

  /* Status-based number colors */
  .metric-number.status-good {
    color: var(--color-success);
  }

  .metric-number.status-warning {
    color: var(--color-primary);
  }

  .metric-number.status-alert {
    color: #FF3B30;
  }

  .metric-unit {
    font-size: var(--font-size-sm);
    color: var(--color-text-light);
    font-weight: var(--font-weight-normal);
  }

  .metric-context {
    font-size: var(--font-size-sm);
    color: var(--color-text-light);
    margin: 0 0 var(--space-sm) 0;
  }

  /* Sparkline Visualization */
  .metric-sparkline {
    margin-top: var(--space-sm);
    opacity: 0.7;
  }

  /* Progress Bar Visualization */
  .metric-progress {
    margin-top: var(--space-sm);
  }

  .progress-bar {
    width: 100%;
    height: 6px;
    background: var(--color-border);
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: var(--space-xs);
  }

  .progress-fill {
    height: 100%;
    border-radius: 3px;
    transition: width var(--transition-slow);
  }

  .progress-fill.status-good {
    background: var(--color-success);
  }

  .progress-fill.status-warning {
    background: var(--color-primary);
  }

  .progress-fill.status-alert {
    background: #FF3B30;
  }

  .progress-label {
    font-size: var(--font-size-xs);
    color: var(--color-text-light);
  }

  /* Mini Bar Chart Visualization */
  .metric-mini-bars {
    display: flex;
    align-items: flex-end;
    gap: 3px;
    height: 32px;
    margin-top: var(--space-sm);
  }

  .mini-bar {
    flex: 1;
    background: var(--color-success);
    border-radius: 2px;
    opacity: 0.7;
    transition: opacity var(--transition-fast);
  }

  .metric-card:hover .mini-bar {
    opacity: 1;
  }

  /* Narrative Insights Section */
  .highlights-section {
    max-width: 800px;
    margin: 0 auto var(--space-3xl);
  }

  .highlights-header {
    margin-bottom: var(--space-lg);
  }

  .highlights-header h3 {
    font-size: var(--font-size-2xl);
    color: var(--color-text);
    margin: 0;
  }

  .insight-card {
    display: flex;
    gap: var(--space-md);
    padding: var(--space-lg);
    background: white;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    margin-bottom: var(--space-md);
    transition: box-shadow var(--transition-base);
    border-left: 4px solid transparent;
  }

  .insight-card:hover {
    box-shadow: var(--shadow-md);
  }

  /* Insight card variants */
  .insight-card.insight-primary {
    border-left-color: var(--color-primary);
    background: linear-gradient(to right, rgba(245, 166, 35, 0.05) 0%, white 20%);
  }

  .insight-card.insight-positive {
    border-left-color: var(--color-success);
    background: linear-gradient(to right, rgba(51, 199, 89, 0.05) 0%, white 20%);
  }

  .insight-card.insight-action {
    border-left-color: var(--color-text-light);
    background: white;
  }

  .insight-icon {
    font-size: var(--font-size-3xl);
    flex-shrink: 0;
  }

  .insight-content h4 {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text);
    margin: 0 0 var(--space-xs) 0;
  }

  .insight-content p {
    font-size: var(--font-size-base);
    color: var(--color-text);
    line-height: var(--line-height-relaxed);
    margin: 0;
  }

  /* Tracking Details */
  .tracking-details {
    max-width: 700px;
    margin: 0 auto;
    text-align: center;
  }

  .tracking-details h3 {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--space-lg);
  }

  .tracking-list {
    list-style: none;
    padding: 0;
    text-align: left;
    margin-bottom: var(--space-lg);
  }

  .tracking-list li {
    padding: var(--space-sm) 0;
    font-size: var(--font-size-lg);
    line-height: var(--line-height-relaxed);
    border-bottom: 1px solid var(--color-border);
  }

  .tracking-list li:last-child {
    border-bottom: none;
  }

  .tracking-list strong {
    color: var(--color-primary);
    font-weight: var(--font-weight-semibold);
  }

  .tracking-tagline {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text);
    margin: var(--space-xl) 0 0;
  }

  /* Alternate Section Background */
  .section-alt {
    background: var(--gradient-subtle);
  }

  /* Steps */
  .steps {
    max-width: 800px;
    margin: 0 auto;
  }

  .step {
    display: grid;
    grid-template-columns: 80px 1fr;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
    align-items: start;
  }

  .step-number {
    width: 64px;
    height: 64px;
    background: var(--gradient-hero);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    flex-shrink: 0;
  }

  .step-content h3 {
    margin-bottom: var(--space-sm);
  }

  .step-content p {
    color: var(--color-text-light);
    margin: 0;
  }

  /* CTA Section */
  .cta-section {
    background: var(--color-text);
    color: white;
  }

  .cta-content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .cta-content h2 {
    color: white;
    margin-bottom: var(--space-md);
  }

  .cta-content p {
    font-size: var(--font-size-lg);
    color: var(--color-text-muted);
    margin-bottom: var(--space-xl);
  }

  /* Challenge Section */
  .challenge-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .challenge-content h2 {
    margin-bottom: var(--space-xl);
    font-size: var(--font-size-3xl);
  }

  .challenge-text {
    font-size: var(--font-size-lg);
    color: var(--color-text);
    margin-bottom: var(--space-lg);
    line-height: var(--line-height-relaxed);
  }

  .challenge-text strong {
    color: var(--color-primary);
    font-weight: var(--font-weight-bold);
  }

  /* Mission Section */
  .mission-section {
    background: var(--color-text);
    color: white;
  }

  .mission-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .mission-content h2 {
    color: white;
    margin-bottom: var(--space-lg);
  }

  .mission-content p {
    font-size: var(--font-size-xl);
    line-height: var(--line-height-relaxed);
    color: var(--color-text-on-dark);
  }

  /* Status Section */
  .status-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .status-content h2 {
    margin-bottom: var(--space-lg);
  }

  .status-content p {
    font-size: var(--font-size-lg);
    color: var(--color-text-light);
    line-height: var(--line-height-relaxed);
  }

  /* SMS Alerts Setup Section */
  .sms-setup-content {
    max-width: 700px;
    margin: 0 auto;
    text-align: center;
  }

  .icon-badge-large {
    font-size: var(--font-size-5xl);
    margin-bottom: var(--space-lg);
  }

  .sms-setup-content h2 {
    margin-bottom: var(--space-md);
  }

  .sms-description {
    font-size: var(--font-size-lg);
    color: var(--color-text-light);
    line-height: var(--line-height-relaxed);
    margin-bottom: var(--space-xl);
  }

  /* Mobile Responsive - Fluid system handles most scaling */
  @media (max-width: 768px) {
    .hero {
      min-height: auto;
    }

    .hero-content {
      grid-template-columns: 1fr;
    }

    .hero-image {
      order: -1;
    }

    .app-icon {
      width: clamp(180px, 45vw, 300px);
      height: clamp(180px, 45vw, 300px);
    }

    .step {
      grid-template-columns: clamp(48px, 15vw, 80px) 1fr;
    }

    .step-number {
      width: clamp(48px, 15vw, 64px);
      height: clamp(48px, 15vw, 64px);
      font-size: var(--font-size-xl);
    }

    /* Data metrics mobile adjustments */
    .metrics-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-md);
    }

    .metric-card {
      padding: var(--space-md);
    }

    .metric-number {
      font-size: var(--font-size-3xl);
    }

    /* Insight cards mobile */
    .insight-card {
      flex-direction: column;
      align-items: flex-start;
      padding: var(--space-md);
    }

    .insight-icon {
      font-size: var(--font-size-2xl);
    }

    .tracking-list {
      text-align: left;
    }
  }

  /* Extra small mobile devices */
  @media (max-width: 480px) {
    .metrics-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
